---
import AdminLayout from "../../layouts/AdminLayout.astro";
import { verifyToken } from "../../lib/server/auth";
import { CreateJobOfferForm } from "../../components/react/CreateJobOfferForm";

const token = Astro.cookies.get("admin_token")?.value;

if (!token || !verifyToken(token)) {
    return Astro.redirect("/admin/login");
}
---

<AdminLayout title="Crear Oferta">
    <h1 class="text-3xl font-bold mb-8 text-white tracking-tight">
        Nueva Oferta de Trabajo
    </h1>

    <CreateJobOfferForm client:load />
</AdminLayout>
